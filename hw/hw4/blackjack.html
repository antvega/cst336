<!DOCTYPE html>
<html>
    <head>
        <title> JavaScript Hands </title>
        <style>
        @import url("css/styles.css");
        </style>
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <script>
            
            function getEl(elementId) {
                return document.getElementById(elementId);
            }
        
            function get_random(list){
                return list[Math.floor((Math.random()*list.length))];
            }
                    
            function getHand(){
                var firstCard = document.getElementById("hand").value;
                var firstCard = parseInt(firstCard);
                
                var cards = [];
                var i;
                for(i = 1; i <=13;i++){
                    cards.push(i);
                }
                var randomCard = get_random(cards);
                var hand = [];
                hand.push(randomCard);
                hand.push(firstCard);
                return hand;
            }
            
            function getRobotHand(){
                var cards = [];
                var i;
                for(i = 1; i <=13;i++){
                    cards.push(i);
                }
                var hand = [];
                hand.push(get_random(cards));
                hand.push(get_random(cards));
                // document.write("<h1>hello</h1>");
                return hand;
            }
            
            function getWinner(playerHand,robotHand){
                var i;
                var player = 0;
                var robot = 0;
                for(i=0;i<2;i++){
                    player += playerHand[i];
                    robot += robotHand[i];
                }
                for(i=0;i<2;i++){
                    console.log(player[i]);
                 
                }
                for(i=0;i<2;i++){

                    console.log(robot[i]);
                }

                var winner;
                if(player > 21 && robot <=21){
                    winner = "Robot";
                } else if(robot > 21 && player <=21){
                    winner = "You";
                } else if (player > 21 && robot > 21){
                    winner = "Dealer";
                } else if(player == robot){
                    winner = "Dealer";
                } else if(player > robot){
                    winner = "You";
                } else {
                    winner = "Robot";
                }
                return winner;
            }
            
            function doEverything(){
                var robotHand = [];
                robotHand =getRobotHand();
                var playerHand = [];
                playerHand = getHand();
     
                $("div1").append("<h1> Your hand </h1>");
                $("div1").append("<img src=img/"+playerHand[0]+".png width="+70 +">");
                $("div1").append("<img src=img/"+playerHand[1]+".png width="+70 +">");

                $("div2").append("<h1> Robot hand </h1>");
                $("div2").append("<img src=img/"+robotHand[0]+".png width="+70 +">");
                $("div2").append("<img src=img/"+robotHand[1]+".png width="+70 +">");
                //$("body").append("</div>");
                
                var winner = getWinner(playerHand,robotHand);
                $("div").append("<br>");
                $("body").append("<h1 id='winner'> Winner is: " + winner +"</h1>");
                //$("div").append("</div>");
            }
        </script>
        <script>
            $(document).ready(function(){
                $("button").click(function(){
                    $("#hands").fadeIn();
                    $("#hand1").fadeIn("slow");
                    $("#hand2").fadeIn("slow");
                });
            });
        </script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    </head>
    <body>
        <p>You enter one card, your second card is randomly generated.</p>
        Enter one card number(1-13): <input type="number" id="hand"><br>
        <button id='fade' id="getCard" onclick="doEverything(); return false;"> Gamble </button>
        
        <div class="hands">
            <div1 id="hand1">
                
            </div1>
            <div2 id="hand2">
            </div2>
            
        </div>
        
    </body>
        <center><footer>
            <br />
            <!--<img src = "img/csumb_logo.jpg" alt = "CSUMB logo" title = "This is the CSUMB logo" width = "50px" />-->
            <img src = "img/csumb_logo.png" alt = "Buddy verification logo" title = "This is the Buddy verification logo" width = "50px" />
        </footer></center>
</html>